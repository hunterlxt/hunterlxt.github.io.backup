---
layout:     post
title:      "新型非易失性存储器初步调研"
subtitle:   "a simple survey for NVM"
date:       2018-12-31
author:     "TXXT"
tags:
    - Architecture
---

# 1 摘要

计算机存储器是一种存储即时信息的集成电路，往往具备很高的访问速度。所以本文提到的术语 `存储器` ，指的是主存储器（区别于持久化的外部存储设备）。大部分的半导体存储器以memory cells或者bistable flip-flops的形式组成起来，这些单位里存储着bit信息，当然有些cell里可以存储多个bit信息。memory cells被组织成具有固定字长的字，以便寻址。

存储器主要分为两类：易失性存储器（Volatile memory）和非易失性存储器（Non-volatile memory）。传统的计算机设备中，非易失性存储器一般指ROM，PROM，EPROM，EEPROM；易失性存储器往往指DRAM，SRAM。非易失性存储器相比于前者能够在掉电的情况下保存信息。

近年来，随着摩尔定律的失效和非易失性存储器的技术突破，很多研究工作开始尝试用非易失性存储器替代易失性存储器的传统地位。因此本文调研了几种热门的新型非易失性存储器，并对它们进行了简要的介绍。

# 2 Magnetoresistive Random Access Memory (MRAM)

## 2.1 原理

磁阻式随机存取存储器是一种非易失性内存技术，目前主要由Everspin公司生产。这种技术在1980年代中期开始被人研究，它的支持者认为该项技术速度接近SRAM，具有非易失性，而且寿命不输于DRAM。

![img](/img/in-post/非易失性存储器初步调研.assets/1024px-MRAM-Cell-Simplified.svg.png)

和传统的RAM技术不同的是，MRAM中数据不作为电荷或电流存储，而是由磁存储元件存储。这些元件由两个铁磁性板形成，每个铁磁板可以保持独立的磁性。其中一个铁磁板是一个被设置特定极性的永磁体; 另一个板根据外部磁场进行磁化以存储对应信息。 这种配置被称为磁性隧道结（MTJ），是MRAM中存储一个bit的最简单结构。存储设备由这样的 cells 的网格构建。

![img](/img/in-post/非易失性存储器初步调研.assets/v2-92e69d39a3d3a6a0715d93d46e8acfa6_hd.png)

通过测量电流，可以确定任何cell内电阻，如果两个板具有相同的磁化（低电阻），将其视为bit 1，如果磁化相反（高电阻），视为bit 0。

简单的read操作通过测量一个cell的电阻完成。当上下两层磁性自旋方向一致时，MTJ结构的电阻很小；自旋方向相反时，电阻很大。因此可以对比每个MTJ单元的电阻读取数据。通过相关联的晶体管选择特定单元，将电流切换，由于隧道磁阻，cell的电阻由于两个板中磁化的相对取向而变化。

![1545638866868](/img/in-post/非易失性存储器初步调研.assets/1545638866868.png)

写入的过程如下，相互垂直的一系列电流相当于经纬线，通过严格控制电流，可以精确地在二者相交的地方产生合适的磁场，从而改变上层的自旋方向。

![1545638881468](/img/in-post/非易失性存储器初步调研.assets/1545638881468.png)

因此MTJ使用的是巨磁性效应（GMR）

![1545638532847](/img/in-post/非易失性存储器初步调研.assets/1545638532847.png)



## 2.2 发展和分类

### STT-MRAM

1984年，巨磁阻效应被发现，随后的几年，部分公司开始对MRAM技术的研究。第一代的MRAM是Toggle MRAM，但是因为尺寸较大，导致集成度不高。第二代的MRAM叫做STT-MRAM（Spin Torque MRAM）。基本的组成单位也是MTJ，但是它使用了自旋极化的电流来控制最上层的自旋方向。电流通过一定的层状结构就会实现自旋的极化，即电流中的电子的自旋方向都一样。相比于第一代，这一代STT-MRAM写入能耗大幅降低，尺寸也减少很多。Everspin公司就使用了垂直磁各向异性MTJ（PMTJ）技术实现了高密度、低能耗的MRAM存储设备。

总结STT-MRAM的特点就是：

1. 速度更快
2. 更加节能
3. 尺寸更小，可以实现高集成度

![img](/img/in-post/非易失性存储器初步调研.assets/MRAM_memory_performance_chart-1545641989519.png)

根据Everspin公司的技术对比图得知，STT-MRAM已经和DRAM写入速度相当，而且比所有的易失性存储器都节约能源。相比于通电才能维持数据的存储，MRAM不需要一直通电，最上面的一层（Free Layer）的自旋方向不会因为通电变化。

经过初步的研究和商用生产，飞思卡尔半导体宣布该公司将与多家创投公司集资成立一间以磁性随机存取存储器(MRAM)为主要产品的独立新公司——EverSpin Technologies，致力于提供并扩充现有的独立MRAM产品线及相关磁性产品。据悉飞思卡尔半导体将把磁阻式随机存储器的相关知识产权移交给Everspin科技。

2016年，三星展示了使用 timing controller 芯片的LCD显示器，与之前使用SRAM芯片不同，该款芯片内有28nm制程的pMTJ STT-MRAM，这款MRAM使用8Mb的MRAM单元。取代高能耗、大尺寸的SRAM也成为了MRAM的市场方向。

2017年及以后，Everspin公司不断提升技术，开始生产更大容量的STT-MRAM，并且台积电和三星均加入此行列。

### SOT-MRAM

STT-MRAM中，MTJ是基于自旋转移力矩（STT）作为开关，但存在一些缺点：1.写入所需的高电流密度偶尔会损坏MTJ的壁垒，这种情况在纳秒级时间切换时更为突出。2.因为写和读公用了相同的路径，所以读取的时候不可靠。而MTJ越小，写入电流越低，不可能降低电流以维持可靠的测量。基于自旋轨道扭矩（SOT）的开关方式，解决了这些问题，为解决当前双端MTJ的限制提供了开创性方法。

![1545643694772](/img/in-post/非易失性存储器初步调研.assets/1545643694772.png)

基于STT的MTJ cell有3个终端，分别是 Bit-Line、Word-Line、Source-Line（见下图）。因此读取电流是单向的，而写入电流是双向的。读写路径一致可能导致读冲突。

![1545644235113](/img/in-post/非易失性存储器初步调研.assets/1545644235113.png)

因此STT的优点有高密度、非易失性、可扩展性、CMOS兼容、低读取延迟、高耐受性、高记忆性、免疫辐射等。但是缺点也很明显：高写入能耗、需要额外的层级、高写入延迟、读取冲突等。

在基于SOT的MTJ中，多了一个额外的终端（见下图），这样就分离了读取和写入的路径，消除了读取冲突；而且磁化改成了平行方向，因此也需要更少的电流触发；同时加快了开关切换的速度。

![1545644844280](/img/in-post/非易失性存储器初步调研.assets/1545644844280.png)

**组织架构如下图所示**

![1545645468221](/img/in-post/非易失性存储器初步调研.assets/1545645468221.png)

**下表展示了基于两种方式的MRAM特性对比：**

|            Parameter             |       STT-MRAM       |      SOT-MRAM      |
| :------------------------------: | :------------------: | :----------------: |
| Bit-cell Terminals (1T1MTJ type) |          3           |         4          |
|        Access Transistor         |          8F          |         2F         |
|           Current (uA)           |         750          |        100         |
|    Write Current Period (ns)     |          11          |        0.3         |
|           Read Disturb           |   High Probability   |     Almost Nil     |
|         Read Energy (pJ)         |         1.8          |        1.8         |
|        Write Energy (pJ)         | 3.9 (reset)/3.4(set) |        0.1         |
|        Switching Behavior        |     Asymmetrical     | Almost Symmetrical |
|       Magnetic Anisotropy        |       In-Plane       |   Perpendicular    |



# 3 Resistive random-access memory

## 3.1 原理

阻变存储器（ReRAM or RRAM）是一种通过改变电介质固态材料（通常称为忆阻器）的电阻来工作的存储器。最基本的可变电阻式存储器是由上下两层金属电极以及中间一层过渡金属氧化物所组成。主要的操作原理是利用过渡金属物的电阻值，会随着所加偏压的改变而产生不同的阻值，而如何办别内部存储的值，则由内部的阻值高低来做分别。通常会先对刚生产好的可变电阻式存储器进行初始化，此过程被称为Forming，必须对组件施加偏压，当电场超过临界值时介电层会发生崩溃现象，使介电层从高阻值转为低阻值。而从Forming之后发生改变阻值的现象，若是从高阻态到低阻态的过程称之为SET，相反地，从低阻态到高阻态的过程称之为RESET。（如下图所示）

![img](/img/in-post/非易失性存储器初步调研.assets/v2-6af18d184281b51741479ba338acf757_hd.jpg)

RRAM的存在是为了弥补外部存储设备（如SSD、HDD）和主存储设备（DRAM）之间的缝隙，ReRAM的造价较低，同时提供了不错的密度和速度，如下图所示：

![img](/img/in-post/非易失性存储器初步调研.assets/20160809_Keynote4_WD_Sivaram - ReRAM_12_575px.png)



## 3.2 发展趋势



# 4 Racetrack Memory

## 4.1 原理

赛道内存（也叫做 domain-wall memory）是由IBM实验室主导研究的一项 **实验性** 的非易失性存储器技术。这种技术的一个显著特点就是密度超高，它的支持者认为这项技术能替代SSD设备，提供超高的速度和巨大的存储密度，就意味着能替代我们常说的二级存储设备。

为什么该存储技术的密度这么高呢？因为赛道存储器整合许多的 magnetic domain 到磁性纳米线中，这样一个存储的 cell 类似一个磁带的结构，能存储多个bit信息。信息存储在skyrmion粒子中，这叫做一个domain。而同一个存储单元的不同 domain 共享几个读写端口。为了实现这个目的，每次访问前，需要读写的domain被电流驱动转移到读写端口位置，随着这样每次都要驱动domain会带来延迟和能耗开销，但我们依然可以从赛道存储器的存储密度中获益。

![1545655409855](/img/in-post/非易失性存储器初步调研.assets/1545655409855.png)

一个Racetrack存储单元由3个基本部分构成。写和读的头部分别对应数据的输入和输出。磁性纳米线用于数据的存储和传输。为了集成到外围CMOS电路中，读写头被设计成磁性通道结点（MTJ）。这样设计有助于更快的操作和更低的能耗。数据传输基于电流引起的DW运动。主流控制策略是给DW pinning制造缺口或限制。在那些人造pinning间极大的距离可能会得到相当大的设备存储密度。此外还有3个电流Iw, Ir, Ish，它们在3个不同的电路里，分别用作执行DW nucleation, sensing和shifting操作。这比传统的两端MTJ结构更能提升全局设备的可靠性。

![1538208902995](/img/in-post/非易失性存储器初步调研.assets/1538208902995.png)

## 4.2 发展和趋势

赛道存储器技术的难点在于需要高电流密度，才能推动 domain 的移动，因此关于如何设计电路一直都是难题之一。而共享读写端口带来的额外高电流的驱动则势必带来高功率消耗，高于STT-MRAM等存储器技术。而另外的一个挑战之一在于 domain 的控制，很难让 domains 在固定需要的位置停下移动，所以这方面还在研究之中。

研究人员希望最终演化成三维赛道，构建出新的内存设备，实现三维构建的赛道存储器将不会受到摩尔定律的制约。

但是现实和理想不一样，尽管IBM在2012年已经做出了赛道内存的原型，六年过去了，还是没有任何厂商发布过商用赛道存储器。
